<mat-toolbar>Gestão de ativos</mat-toolbar>

 <ng-template #carregando>
    <mat-spinner></mat-spinner>
 </ng-template>

<div class="componente-container">
    <div *ngIf="assets$ | async as assets; else carregando">
        <table mat-table [dataSource]="assets">
            
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Nome</th>
                <td mat-cell *matCellDef="let asset">
                    <a routerLink="/assets/update/{{asset.id}}">{{asset.name}}</a>
                </td>
            </ng-container>

            <ng-container matColumnDef="manufacturer">
                <th mat-header-cell *matHeaderCellDef>Fabricante</th>
                <td mat-cell *matCellDef="let asset">
                    <a routerLink="/assets/update/{{asset.id}}">{{ Manufacturer(asset.manufacturer)}}</a>
                </td>
            </ng-container>

            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef>Categoria</th>
                <td mat-cell *matCellDef="let asset">
                    <a routerLink="/assets/update/{{asset.id}}">{{ Category(asset.category) }}</a>
                </td>
            </ng-container>

            <ng-container matColumnDef="manufactureDate">
                <th mat-header-cell *matHeaderCellDef>Data fabricação</th>
                <td mat-cell *matCellDef="let asset">
                    <a routerLink="/assets/update/{{asset.id}}">{{asset.manufactureDate | date:'yyyy-MM-dd' }}</a>
                </td>
            </ng-container>

            <ng-container matColumnDef="serial">
                <th mat-header-cell *matHeaderCellDef>Serial</th>
                <td mat-cell *matCellDef="let asset">
                    <a routerLink="/assets/update/{{asset.id}}">{{asset.serial}}</a>
                </td>
            </ng-container>
 
            <tr mat-header-row *matHeaderRowDef="colunasTabela"></tr>
            <tr mat-row *matRowDef="let row; columns: colunasTabela;"></tr>
        </table>

        <div class="linha-botoes">
            <button mat-raised-button color="primary" routerLink="/assets/insert">Cadastrar</button>
        </div>

    </div>
</div>
